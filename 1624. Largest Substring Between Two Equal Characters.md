Tags: [[HashTable]], [[String]]
Difficulty: [[Easy]]
## Problem
Given a string `s`, return _the length of the longest substring between two equal characters, excluding the two characters._ If there is no such substring return `-1`.

A **substring** is a contiguous sequence of characters within a string.

**Example 1:**
**Input:** s = "aa"
**Output:** 0
**Explanation:** The optimal substring here is an empty substring between the two `'a's`.

**Example 2:**
**Input:** s = "abca"
**Output:** 2
**Explanation:** The optimal substring here is "bc".

**Example 3:**
**Input:** s = "cbzxy"
**Output:** -1
**Explanation:** There are no characters that appear twice in s.

**Constraints:**
- `1 <= s.length <= 300`
- `s` contains only lowercase English letters.

## Solution
For this problem I have kept a map with the position of the first and last index a character can be found, after that we substract their index values and keep the biggest one:

```python
class Solution:
    def maxLengthBetweenEqualCharacters(self, s: str) -> int:
        hmap = defaultdict(dict)
        result = -1

        for i, c in enumerate(s):
            if "first" not in hmap[c]:
                hmap[c]["first"] = i
            hmap[c]["last"] = i

        for c, pos in hmap.items():
            first, last = pos["first"], pos["last"]
            result = max(result, last - first - 1)

        return result
```

![[Pasted image 20251028112154.png]]

